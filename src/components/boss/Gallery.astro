---
const summits = [
  {
    id: "summer-2025",
    label: "Summer 2025",
    images: [
      "public/boss/gallery/image1.png",
      "public/boss/gallery/image2.png",
      "public/boss/gallery/image3.png",
      "public/boss/gallery/image4.png",
      "public/boss/gallery/image5.png",
      "public/boss/gallery/image6.png",
      "public/boss/gallery/image7.png",
      "public/boss/gallery/image8.png",
    ],
    synopsisUrl: "/boss/winter-2025-synopsis",
  },
  {
    id: "winter-2025",
    label: "Winter 2025",
    images: [
      "public/boss/winter_gallery/image1.png",
      "public/boss/winter_gallery/image2.png",
      "public/boss/winter_gallery/image3.png",
      "public/boss/winter_gallery/image4.png",
      "public/boss/winter_gallery/image5.png",
      "public/boss/winter_gallery/image6.png",
      "public/boss/winter_gallery/image7.png",
    ],
    synopsisUrl: "/boss/summer-2025-synopsis",
  },
];
---

<section
  id="gallery"
  class="w-full bg-[#271A23] px-4 py-16 md:px-8 lg:px-24 xl:px-32"
>
    <!-- Header Container -->
    <div
      class="mb-12 flex flex-col items-start justify-between gap-6 md:flex-row md:items-end"
    >
      <!-- Heading -->
      <h2 class="font-boss text-4xl md:text-6xl text-white">
        Glimpse and
        <span class="bg-[#D7FF00] px-2 text-black">highlight</span>
      </h2>

      <!-- Tabs -->
      <div class="flex gap-4">
        {
          summits.map((summit, index) => (
            <button
              data-tab={summit.id}
              class={`tab-button rounded-2xl border px-6 py-2 font-boss text-2xl lowercase transition-all duration-300 ${
                index === 0
                  ? "border-[#D7FF00] text-[#D7FF00] shadow-[0_0_10px_rgba(215,255,0,0.3)]"
                  : "border-[#6B4C5E] text-white/80 hover:border-[#D7FF00] hover:text-white"
              }`}
            >
              {summit.label.toLowerCase()}
            </button>
          ))
        }
      </div>
    </div>

    <!-- Galleries -->
    {summits.map((summit, index) => {
      return (
        <div
          data-gallery={summit.id}
          class={`gallery-content mt-20 ${index === 0 ? "" : "hidden"}`}
        >
          <!-- DESKTOP - Scattered Gallery -->
          <div class="relative hidden md:block h-[600px] lg:h-[700px] ml-20">
            {summit.images.map((image, i) => {
              const positions = [
                "top-[0%] left-[10%] rotate-[-12.1deg] w-[23%] z-10",
                "top-[27%] left-[24%] rotate-[3.01deg] w-[25%] z-20",
                "top-[0%] left-[36%] rotate-[-9.32deg] w-[22%] z-10",
                "top-[0%] left-[60%] rotate-[-7deg] w-[22%] z-10",
                "top-[60%] left-[34%] rotate-[-7.57deg] w-[24%] z-0",
                "top-[30%] left-[54%] rotate-[10deg] w-[26%] z-0",
                "top-[52%] left-[4%] rotate-[10.82deg] w-[23%] z-40",
                "top-[55%] left-[66%] rotate-[-13.8deg] w-[23%] z-0",
              ];
              return (
                <img
                  src={image}
                  alt={`${summit.label} gallery`}
                  loading="lazy"
                  class={`
                    absolute
                    rounded-sm
                    shadow-xl
                    transition-all duration-300 ease-out
                    hover:scale-110
                    hover:z-50
                    hover:shadow-2xl
                    ${positions[i] || "top-0 left-0 w-[25%]"}
                  `}
                />
              );
            })}
          </div>

          <!-- MOBILE -->
          <div class="grid grid-cols-1 gap-4 md:hidden">
            {summit.images.map((image) => (
              <img
                src={image}
                loading="lazy"
                class="w-full transition-transform duration-300"
              />
            ))}
          </div>
        </div>
      );
    })}
  </div>
</section>

<script>
  const tabButtons = document.querySelectorAll(".tab-button");
  const galleryContents = document.querySelectorAll(".gallery-content");

  tabButtons.forEach((button) => {
    button.addEventListener("click", () => {
      const targetTab = button.getAttribute("data-tab");

      tabButtons.forEach((btn) => {
        if (btn.getAttribute("data-tab") === targetTab) {
          btn.classList.add(
            "border-[#D7FF00]",
            "text-[#D7FF00]",
            "shadow-[0_0_10px_rgba(215,255,0,0.3)]"
          );
          btn.classList.remove("border-[#6B4C5E]", "text-white/80");
        } else {
          btn.classList.add("border-[#6B4C5E]", "text-white/80");
          btn.classList.remove(
            "border-[#D7FF00]",
            "text-[#D7FF00]",
            "shadow-[0_0_10px_rgba(215,255,0,0.3)]"
          );
        }
      });

      galleryContents.forEach((content) => {
        content.classList.toggle(
          "hidden",
          content.getAttribute("data-gallery") !== targetTab
        );
      });
    });
  });
</script>
