---
import Carousel from "../components/common/Carousel";
import Footer from "../components/common/Footer.astro";
import Layout from "../layouts/Layout.astro";
import Header from "../components/common/Header.astro";
import EssentialStudyMaterial from "../components/review/EssentialStudyMaterial.astro";
import { VideoList } from "../components/common/videoList";
import {
  mockedVideoConfig,
  getPlaylistDetails,
} from "../scripts/googleApi";

const isProd = import.meta.env.PROD;
const videoConfig = isProd
  ? await getPlaylistDetails(
      "PLdHBT9oS8yMW9rp2_plnJVPYAEAIrDmVL",
      import.meta.env.GOOGLE_KEY,
    )
  : mockedVideoConfig.slice(-6);
---

<Layout title="PR Review Club">
  <Header
    heading="Ever wondered about the inner workings of Bitcoin Core?"
    subheading="Then youâ€™re invited to get your hands dirty with experienced contributors and live PR discussions."
    image="/website-v2/header/PR_Review_Hero.png"
    headingColor="text-white"
    subheadingColor="text-white"
  />
  <EssentialStudyMaterial />
  <VideoList videoConfig={videoConfig} />
  <Carousel client:visible />
  <Footer />
</Layout>
